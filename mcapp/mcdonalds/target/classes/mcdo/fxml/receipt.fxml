<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="1080" prefWidth="1920" style="-fx-background-color:#f9f9f9;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="mcdo.controller.ReceiptController">

    <!-- ─── TOP BAR ─────────────────────────────────────────────── -->
    <top>
        <HBox prefHeight="98" style="-fx-background-color:#FFC72C;">
            <children>
                <ImageView fx:id="logoImage" fitHeight="80" fitWidth="90" pickOnBounds="true" preserveRatio="true">
                    <effect>
                        <DropShadow>
                            <color><Color red="0.4" green="0.4" blue="0.4" /></color>
                        </DropShadow>
                    </effect>
                </ImageView>

                <Label text="McDonald's Receipt" textFill="white">
                    <font><Font name="Segoe UI Black" size="36" /></font>
                </Label>
            </children>
            <padding><Insets left="32" /></padding>
            <spacing>24</spacing>
        </HBox>
    </top>

    <!-- ─── RECEIPT CONTENT ─────────────────────────────────────── -->
    <center>
        <VBox alignment="CENTER" style="-fx-padding:32;">
            <children>
                <!-- Receipt Paper Container -->
                <VBox maxWidth="400" style="-fx-background-color:white; -fx-padding:24; -fx-border-color:#cccccc; -fx-border-width:1; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0, 0, 3);">
                    <children>
                        <!-- McDonald's Header -->
                        <VBox alignment="CENTER" spacing="8">
                            <children>
                                <Label style="-fx-font-size:24px; -fx-font-weight:bold; -fx-text-fill:#DA291C;" text="McDonald's">
                                    <font><Font name="Segoe UI Black" size="24" /></font>
                                </Label>
                                <Label style="-fx-font-size:12px; -fx-text-fill:#666666;" text="I'm Lovin' It" />
                                <Label style="-fx-font-size:10px; -fx-text-fill:#999999;" text="Store #COM246 - Kiosk Order" />
                                <Label style="-fx-font-size:10px; -fx-text-fill:#999999;" text="National University Manila" />
                                <Label style="-fx-font-size:10px; -fx-text-fill:#999999;" text="Phone: (555) 123-4567" />
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;" />

                        <!-- Order Info -->
                        <VBox spacing="4">
                            <children>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-weight:bold; -fx-font-size:12px;" text="Order #:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="orderNumberLabel" style="-fx-font-weight:bold; -fx-font-size:12px;" text="1001" />
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-size:10px;" text="Date/Time:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="dateTimeLabel" style="-fx-font-size:10px;" text="01/01/2024 12:00:00" />
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-size:10px;" text="Cashier:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="cashierLabel" style="-fx-font-size:10px;" text="Kiosk #01" />
                                    </children>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;" />

                        <!-- Items List -->
                        <VBox spacing="4">
                            <children>
                                <Label style="-fx-font-weight:bold; -fx-font-size:12px; -fx-text-fill:#DA291C;" text="ORDER DETAILS" />
                                <ListView fx:id="itemsList" prefHeight="200" style="-fx-background-color:transparent; -fx-border-color:transparent;" />
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;" />

                        <!-- Totals Section -->
                        <VBox spacing="4">
                            <children>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-size:12px;" text="Subtotal:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="subtotalLabel" style="-fx-font-size:12px;" text="₱ 0.00" />
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-size:12px;" text="VAT (12%):" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="taxLabel" style="-fx-font-size:12px;" text="₱ 0.00" />
                                    </children>
                                </HBox>
                                <Separator prefWidth="200" />
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-weight:bold; -fx-font-size:14px;" text="TOTAL:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="totalLabel" style="-fx-font-weight:bold; -fx-font-size:14px; -fx-text-fill:#DA291C;" text="₱ 0.00" />
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-size:12px;" text="Amount Paid:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="amountPaidLabel" style="-fx-font-size:12px;" text="₱ 0.00" />
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label style="-fx-font-size:12px;" text="Change:" />
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Label fx:id="changeLabel" style="-fx-font-size:12px;" text="₱ 0.00" />
                                    </children>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;" />

                        <!-- Footer Messages -->
                        <VBox alignment="CENTER" spacing="4">
                            <children>
                                <Label style="-fx-font-weight:bold; -fx-font-size:12px; -fx-text-fill:#DA291C;" text="Thank you for choosing McDonald's!" />
                                <Label style="-fx-font-size:10px; -fx-text-fill:#666666;" text="Have a great day!" />
                                <Label style="-fx-font-size:8px; -fx-text-fill:#999999;" text="Visit mcdonalds.com for nutrition info" />
                                <Label style="-fx-font-size:8px; -fx-text-fill:#999999;" text="Survey code: COM246" />
                            </children>
                        </VBox>
                    </children>
                </VBox>

                <!-- Action Buttons -->
                <HBox alignment="CENTER" spacing="16" style="-fx-padding:24 0 0 0;">
                    <children>
                        <Button fx:id="printButton" onAction="#handlePrint" style="-fx-background-color:#007bff; -fx-text-fill:white; -fx-padding:12 24; -fx-font-size:14px; -fx-font-weight:bold; -fx-background-radius:6;" text="🖨 Print Receipt" />
                        <Button fx:id="newOrderButton" onAction="#handleNewOrder" style="-fx-background-color:#28a745; -fx-text-fill:white; -fx-padding:12 24; -fx-font-size:14px; -fx-font-weight:bold; -fx-background-radius:6;" text="🏠 New Order" />
                    </children>
                </HBox>
            </children>
        </VBox>
    </center>
</BorderPane>
