<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="mcdo.controller.ReceiptController"
            prefWidth="1920" prefHeight="1080"
            style="-fx-background-color:#f9f9f9;">

    <!-- ─── TOP BAR ─────────────────────────────────────────────── -->
    <top>
        <HBox prefHeight="98" style="-fx-background-color:#FFC72C;">
            <children>
                <ImageView fx:id="logoImage" fitHeight="80" fitWidth="90" preserveRatio="true"
                           pickOnBounds="true">
                    <effect>
                        <DropShadow>
                            <color><Color red="0.4" green="0.4" blue="0.4"/></color>
                        </DropShadow>
                    </effect>
                </ImageView>

                <Label text="McDonald's Receipt" textFill="white">
                    <font><Font name="Segoe UI Black" size="36"/></font>
                </Label>
            </children>
            <padding><Insets left="32"/></padding>
            <spacing>24</spacing>
        </HBox>
    </top>

    <!-- ─── RECEIPT CONTENT ─────────────────────────────────────── -->
    <center>
        <VBox alignment="CENTER" style="-fx-padding:32;">
            <children>
                <!-- Receipt Paper Container -->
                <VBox maxWidth="400" style="-fx-background-color:white; -fx-padding:24; -fx-border-color:#cccccc; -fx-border-width:1; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0, 0, 3);">
                    <children>
                        <!-- McDonald's Header -->
                        <VBox alignment="CENTER" spacing="8">
                            <children>
                                <Label text="McDonald's" style="-fx-font-size:24px; -fx-font-weight:bold; -fx-text-fill:#DA291C;">
                                    <font><Font name="Segoe UI Black" size="24"/></font>
                                </Label>
                                <Label text="I'm Lovin' It" style="-fx-font-size:12px; -fx-text-fill:#666666;"/>
                                <Label text="Store #1234 - Kiosk Order" style="-fx-font-size:10px; -fx-text-fill:#999999;"/>
                                <Label text="123 Main Street, City" style="-fx-font-size:10px; -fx-text-fill:#999999;"/>
                                <Label text="Phone: (555) 123-4567" style="-fx-font-size:10px; -fx-text-fill:#999999;"/>
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;"/>

                        <!-- Order Info -->
                        <VBox spacing="4">
                            <children>
                                <HBox>
                                    <children>
                                        <Label text="Order #:" style="-fx-font-weight:bold; -fx-font-size:12px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="orderNumberLabel" text="1001" style="-fx-font-weight:bold; -fx-font-size:12px;"/>
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label text="Date/Time:" style="-fx-font-size:10px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="dateTimeLabel" text="01/01/2024 12:00:00" style="-fx-font-size:10px;"/>
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label text="Cashier:" style="-fx-font-size:10px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="cashierLabel" text="Kiosk #01" style="-fx-font-size:10px;"/>
                                    </children>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;"/>

                        <!-- Items List -->
                        <VBox spacing="4">
                            <children>
                                <Label text="ORDER DETAILS" style="-fx-font-weight:bold; -fx-font-size:12px; -fx-text-fill:#DA291C;"/>
                                <ListView fx:id="itemsList" prefHeight="200" style="-fx-background-color:transparent; -fx-border-color:transparent;"/>
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;"/>

                        <!-- Totals Section -->
                        <VBox spacing="4">
                            <children>
                                <HBox>
                                    <children>
                                        <Label text="Subtotal:" style="-fx-font-size:12px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="subtotalLabel" text="₱ 0.00" style="-fx-font-size:12px;"/>
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label text="VAT (12%):" style="-fx-font-size:12px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="taxLabel" text="₱ 0.00" style="-fx-font-size:12px;"/>
                                    </children>
                                </HBox>
                                <Separator prefWidth="200"/>
                                <HBox>
                                    <children>
                                        <Label text="TOTAL:" style="-fx-font-weight:bold; -fx-font-size:14px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="totalLabel" text="₱ 0.00" style="-fx-font-weight:bold; -fx-font-size:14px; -fx-text-fill:#DA291C;"/>
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label text="Amount Paid:" style="-fx-font-size:12px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="amountPaidLabel" text="₱ 0.00" style="-fx-font-size:12px;"/>
                                    </children>
                                </HBox>
                                <HBox>
                                    <children>
                                        <Label text="Change:" style="-fx-font-size:12px;"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="changeLabel" text="₱ 0.00" style="-fx-font-size:12px;"/>
                                    </children>
                                </HBox>
                            </children>
                        </VBox>

                        <!-- Separator Line -->
                        <Separator style="-fx-padding:8 0 8 0;"/>

                        <!-- Footer Messages -->
                        <VBox alignment="CENTER" spacing="4">
                            <children>
                                <Label text="Thank you for choosing McDonald's!" style="-fx-font-weight:bold; -fx-font-size:12px; -fx-text-fill:#DA291C;"/>
                                <Label text="Have a great day!" style="-fx-font-size:10px; -fx-text-fill:#666666;"/>
                                <Label text="Visit mcdonalds.com for nutrition info" style="-fx-font-size:8px; -fx-text-fill:#999999;"/>
                                <Label text="Survey code: MD12345" style="-fx-font-size:8px; -fx-text-fill:#999999;"/>
                            </children>
                        </VBox>
                    </children>
                </VBox>

                <!-- Action Buttons -->
                <HBox spacing="16" alignment="CENTER" style="-fx-padding:24 0 0 0;">
                    <children>
                        <Button fx:id="printButton" text="🖨 Print Receipt" onAction="#handlePrint" 
                                style="-fx-background-color:#007bff; -fx-text-fill:white; -fx-padding:12 24; -fx-font-size:14px; -fx-font-weight:bold; -fx-background-radius:6;"/>
                        <Button fx:id="newOrderButton" text="🏠 New Order" onAction="#handleNewOrder"
                                style="-fx-background-color:#28a745; -fx-text-fill:white; -fx-padding:12 24; -fx-font-size:14px; -fx-font-weight:bold; -fx-background-radius:6;"/>
                    </children>
                </HBox>
            </children>
        </VBox>
    </center>
</BorderPane>